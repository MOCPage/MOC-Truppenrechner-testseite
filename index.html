<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>MOC Truppenrechner</title>
  <link rel="stylesheet" href="./style.css"/>
</head>
<body>
<header class="header">
  <h1 data-i18n="site_title">MOC Truppenrechner</h1>
  <div class="header-controls">
    <select id="langSelect" aria-label="Sprache wählen">
      <option value="de">🇩🇪 Deutsch</option>
      <option value="en">🇬🇧 English</option>
      <option value="fr">🇫🇷 Français</option>
      <option value="it">🇮🇹 Italiano</option>
      <option value="tr">🇹🇷 Türkçe</option>
      <option value="ar">🇸🇦 العربية</option>
    </select>
    <button id="helpBtn" class="help-btn">ℹ️ Hilfe</button>
  </div>
</header>

<!-- Hilfe-Popup -->
<div id="helpModal" class="modal hidden">
  <div class="modal-content">
    <button id="closeHelp" class="close-btn">❌</button>
    <h2 data-i18n="help_title">MOC Truppenrechner – Hilfe</h2>
    <div class="help-text" id="helpText"></div>
  </div>
</div>

<main class="main">
  <section class="panel left">
    <h2 data-i18n="left_title">🧮 Basisrechner</h2>

    <!-- Feld: Anzahl Truppen -->
    <div class="field-row" data-info-key="truppen">
      <div class="field-left">
        <label for="inputTruppen" data-i18n="lbl_troops">
          Anzahl Truppen
          <button type="button" class="info-icon" aria-label="Info">ℹ️</button>
        </label>
        <input id="inputTruppen" type="number" min="0"/>
      </div>
      <div class="info-box" aria-hidden="true">
        <img class="info-img hidden" alt=""/>
        <div class="info-text"></div>
      </div>
    </div>

    <!-- Feld: Anzahl Märsche -->
    <div class="field-row" data-info-key="maersche">
      <div class="field-left">
        <label for="inputMaersche" data-i18n="lbl_marches">
          Anzahl Märsche
          <button type="button" class="info-icon" aria-label="Info">ℹ️</button>
        </label>
        <input id="inputMaersche" type="number" min="1"/>
      </div>
      <div class="info-box" aria-hidden="true">
        <img class="info-img hidden" alt=""/>
        <div class="info-text"></div>
      </div>
    </div>

    <!-- Feld: Haustier Buff -->
    <div class="field-row" data-info-key="haustier">
      <div class="field-left">
        <label for="inputHaustier" data-i18n="lbl_pet">
          Haustier Buff
          <button type="button" class="info-icon" aria-label="Info">ℹ️</button>
        </label>
        <input id="inputHaustier" type="number" min="0"/>
      </div>
      <div class="info-box" aria-hidden="true">
        <img class="info-img hidden" alt=""/>
        <div class="info-text"></div>
      </div>
    </div>

    <!-- Feld: Cyrille Buff -->
    <div class="field-row" data-info-key="cyrille">
      <div class="field-left">
        <label for="inputCyrille" data-i18n="lbl_cyrille">
          Cyrille Buff
          <button type="button" class="info-icon" aria-label="Info">ℹ️</button>
        </label>
        <input id="inputCyrille" type="number" min="0"/>
      </div>
      <div class="info-box" aria-hidden="true">
        <img class="info-img hidden" alt=""/>
        <div class="info-text"></div>
      </div>
    </div>

    <!-- Feld: Schwadronengrösse -->
    <div class="field-row" data-info-key="schwadron">
      <div class="field-left">
        <label for="inputSchwadron" data-i18n="lbl_squad">
          Schwadronengrösse
          <button type="button" class="info-icon" aria-label="Info">ℹ️</button>
        </label>
        <input id="inputSchwadron" type="number" min="0"/>
      </div>
      <div class="info-box" aria-hidden="true">
        <img class="info-img hidden" alt=""/>
        <div class="info-text"></div>
      </div>
    </div>

    <div class="results">
      <label for="zw1" data-i18n="res_per_march">Truppen pro Marsch</label><input id="zw1" readonly/>
      <label for="zw2" data-i18n="res_total_squad">Totale Schwadronengrösse</label><input id="zw2" readonly/>
      <label for="endResult" data-i18n="res_percent">Endergebnis (%)</label><input id="endResult" readonly/>
    </div>

    <div class="actions">
      <button id="btnCalc" class="btn green" data-i18n="calc">Berechnen</button>
      <button id="btnAdvanced" class="btn blue" data-i18n="advanced">Erweitertes Rechnen</button>
      <button id="btnResetLeft" class="btn red" data-i18n="reset_left">Zurücksetzen</button>
    </div>
  </section>

  <section id="rightPanel" class="panel right hidden">
    <h2 data-i18n="right_title">⚔️ Marschverteilung</h2>

    <div class="tableHeader">
      <div data-i18n="th_lock">Sperren</div>
      <div data-i18n="th_march">Marsch</div>
      <div data-i18n="th_percent">%</div>
      <div data-i18n="th_count_total">Anzahl / Total</div>
    </div>

    <div id="tableBody" class="tableBody">
      <div class="muted" data-i18n="prompt_advanced">Drücke „Erweitertes Rechnen“</div>
    </div>

    <div class="tableFooter">
      <span data-i18n="total_sum_label">Truppensumme:</span>
      <span id="totalUsed">0</span> / <span id="totalCap">0</span>
    </div>

    <div class="actions">
      <button id="btnRecalcRight" class="btn green" data-i18n="recalc_right">Neu berechnen</button>
      <button id="btnResetRight" class="btn red" data-i18n="reset_right">Zurücksetzen</button>
    </div>
  </section>
</main>

<script src="./translations.js" defer></script>
<script src="./script.js" defer></script>
</body>
</html>